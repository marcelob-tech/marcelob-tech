name: ðŸ’¾ Daily Commit (Fun Edition)

on:
  schedule:
    - cron: "0 12 * * *" # Executa todos os dias Ã s 12h UTC (09h da manhÃ£ no Brasil)
  workflow_dispatch: # Permite rodar manualmente

permissions:
  contents: write

jobs:
  auto-commit:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ§© Checkout
        uses: actions/checkout@v4

      - name: ðŸ§  Gerar commit com emoji do dia
        run: |
          # Define emoji conforme o dia da semana
          case $(date +%u) in
            1) emoji="ðŸ’» Segunda de foco!";;
            2) emoji="âš™ï¸ TerÃ§a produtiva!";;
            3) emoji="â˜• Quarta de cÃ³digo!";;
            4) emoji="ðŸ”¥ Quinta intensa!";;
            5) emoji="ðŸš€ Sextou com commits!";;
            6) emoji="ðŸ˜Ž SÃ¡bado leve, mas com cÃ³digo!";;
            7) emoji="ðŸŒ´ Domingo relaxando e versionando!";;
          esac

          # Atualiza arquivo de log
          echo "update $(date)" >> log.txt

          # Configura Git e envia o commit
          git config user.name "github-actions[bot]"
          git config user.email "41898282+github-actions[bot]@users.noreply.github.com"
          git add log.txt
          git commit -m "$emoji ($(date '+%d/%m/%Y %H:%M'))" || echo "Nada novo para commitar"
          git push
